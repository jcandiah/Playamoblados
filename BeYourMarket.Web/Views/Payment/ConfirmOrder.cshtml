@using Microsoft.Practices.Unity;
@using Microsoft.Practices.Unity.Configuration;
@using Microsoft.AspNet.Identity

@model BeYourMarket.Web.Models.PaymentModel

@section Styles{
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
}

@{
    ViewBag.Title = "ConfirmOrder";
}
<img src="~/Images/logosintexto.png" style="text-align: left; width: 100px; height: 100px" class="img-rounded img-responsive"/>
<h1 style="text-align:center">[[[Confirm your reservation request]]]</h1>


    <div class="panel panel-default" style="width: 70%; margin-left: 15%" >
            <div class="panel-heading form-group">
                <div><label class="panel-title"> Cod Propiedad: @Model.ListingOrder.ListingID</label></div>
            </div>                    
        <div class="panel-success panel-info row">
            <div class="panel-info">
                <div class="form-group col-md-offset-1 col-md-2">Desde: @Model.ListingOrder.FromDate.Value.ToShortDateString()</div>
                <div class="form-group col-md-2">Hasta: @Model.ListingOrder.ToDate.Value.ToShortDateString()</div>
                <div class="form-group col-md-2">Pasajeros: </div>
                <div class="form-group col-md-2">Adultos: </div>
                <div class="form-group col-md-2">Niños: </div>
            </div>
        </div>    
        <div class="panel-body alert-info" style="text-align: center">                    
            <div class="panel-title form-inline">
                <div>Arriendo <i class="glyphicon glyphicon-question-sign" id="qstArriendo"></i>: CLP $@Model.ListingOrder.Price</div>
                <div>Servicio <i class="glyphicon glyphicon-question-sign" id="qstServicio"></i>: CLP $ </div>
                <div>Aseo <i class="glyphicon glyphicon-question-sign" id="qstAseo"></i>: CLP $</div>                
            </div>
        </div>     
        <div class="panel-body alert-link" style="text-align: center">
            <div class="panel-title form-inline">
                <div></div>
            </div>
        </div>
        <div class="panel-body alert-link" style="text-align: center">
            <div class="panel-title form-inline">
                <div><input class="checkbox" style="display:initial;"  type="checkbox" onclick="ActivarBoton()" id="chkActivar"/>Declaro y acepto las normas de la casa, capacidad máxima de pasajeros y las condiciones referidas al deposito de seguridad.</div>
            </div>
        </div> 
        <div class="table-responsive">
            <table class="table">
                <tr>
                    <td class="text-center">
                        @using (Html.BeginForm("ConfirmOrderAction", "Payment", new { id = Model.ListingOrder.ID}, FormMethod.Post, new { role = "form" }))
                        {
                            <div class=""><button class="btn btn-lg btn-success" type="submit" id="btnConfirm" disabled>Confirmar</button></div>
                        }
                    </td>
                    <td class="text-center">
                        @using (Html.BeginForm("CancelOrderAction", "Payment", new { id = Model.ListingOrder.ID }, FormMethod.Post, new { role = "form" }))
                        {
                            <div class=""><button class="btn btn-lg btn-danger" type="submit" >Cancelar</button></div>
                        }
                    </td>
                </tr>
            </table>
        </div>
    </div>

    <div id="pop-up" hidden>
        <h3>Pop-up div Successfully Displayed</h3>
        <p>
            This div only appears when the trigger link is hovered over.
            Otherwise it is hidden from view.
        </p>
    </div>

<script type="text/javascript">
    

    function ActivarBoton()
    {
        if (chkActivar.checked) {
            $('#btnConfirm').attr('disabled', false);
        }
        else {
            $('#btnConfirm').attr('disabled', true);
        }
    }
    
    //if ($("#qstArriendo").hover) {
    //    $("#qstArriendo").hover(function () {
    //        $('div#pop-up').show();
    //    });
    //}
    //else {
    //    $("#qstArriendo").mouseout(function () {
    //        $('div#pop-up').hidden();
    //    });
    //}
</script>